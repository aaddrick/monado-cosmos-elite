{
	"$schema": "../proto.schema.json",

	"device_update_input": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		]
	},

	"device_get_tracked_pose": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "name", "type": "enum xrt_input_name"},
			{"name": "at_timestamp", "type": "int64_t"}
		],
		"out": [
			{"name": "relation", "type": "struct xrt_space_relation"}
		]
	},

	"device_get_hand_tracking": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "name", "type": "enum xrt_input_name"},
			{"name": "at_timestamp", "type": "int64_t"}
		],
		"out": [
			{"name": "value", "type": "struct xrt_hand_joint_set"},
			{"name": "timestamp", "type": "int64_t"}
		]
	},

	"device_get_view_poses": {
		"varlen": true,
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "fallback_eye_relation", "type": "struct xrt_vec3"},
			{"name": "at_timestamp_ns", "type": "int64_t"},
			{"name": "view_type", "type": "enum xrt_view_type"},
			{"name": "view_count", "type": "uint32_t"}
		],
		"out": [
			{"name": "head_relation", "type": "struct xrt_space_relation"},
			{"name": "view_count", "type": "uint32_t"}
		]
	},

	"device_get_view_poses_2": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "fallback_eye_relation", "type": "struct xrt_vec3"},
			{"name": "at_timestamp_ns", "type": "int64_t"},
			{"name": "view_type", "type": "enum xrt_view_type"},
			{"name": "view_count", "type": "uint32_t"}
		],
		"out": [
			{"name": "info", "type": "struct ipc_info_get_view_poses_2"}
		]
	},

	"device_compute_distortion": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "view", "type": "uint32_t"},
			{"name": "u", "type": "float"},
			{"name": "v", "type": "float"}
		],
		"out": [
			{"name": "triplet", "type": "struct xrt_uv_triplet"}
		]
	},

	"device_begin_plane_detection_ext": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "plane_detection_id", "type": "uint64_t"}
		],
		"out": [
			{"name": "out_plane_detection_id", "type": "uint64_t"}
		]
	},

	"device_destroy_plane_detection_ext": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "plane_detection_id", "type": "uint64_t"}
		]
	},

	"device_get_plane_detection_state_ext": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "plane_detection_id", "type": "uint64_t"}
		],
		"out": [
			{"name": "state", "type": "enum xrt_plane_detector_state_ext"}
		]
	},

	"device_get_plane_detections_ext": {
		"varlen": true,
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "plane_detection_id", "type": "uint64_t"}
		],
		"out": [
			{"name": "location_size", "type": "uint32_t"},
			{"name": "polygon_size", "type": "uint32_t"},
			{"name": "vertex_size", "type": "uint32_t"}
		]
	},

	"device_get_presence": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		],
		"out": [
			{"name": "presence", "type": "bool"}
		]
	},

	"device_set_output": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "name", "type": "enum xrt_output_name"},
			{"name": "value", "type": "struct xrt_output_value"}
		]
	},

	"device_set_haptic_output": {
		"varlen": true,
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "name", "type": "enum xrt_output_name"},
			{"name": "samples", "type": "struct ipc_pcm_haptic_buffer"}
		],
		"out":[
			{"name": "samples_consumed", "type": "uint32_t"}
		]
	},

	"device_get_output_limits": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		],
		"out":[
			{"name": "limits", "type": "struct xrt_output_limits"}
		]
	},

	"device_get_visibility_mask": {
		"varlen": true,
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "type", "type": "enum xrt_visibility_mask_type"},
			{"name": "view_index", "type": "uint32_t"}
		],
		"out": [
			{"name": "mask_size", "type": "uint32_t"}
		]
	},

	"device_is_form_factor_available": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "form_factor", "type": "enum xrt_form_factor"}
		],
		"out": [
			{"name": "available", "type": "bool"}
		]
	},

	"device_get_face_tracking": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "facial_expression_type", "type": "enum xrt_input_name"},
			{"name": "at_timestamp_ns", "type": "int64_t"}
		],
		"out": [
			{"name": "value", "type": "struct xrt_facial_expression_set"}
		]
	},

	"device_device_get_face_calibration_state_android": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		],
		"out": [
			{"name": "face_is_calibrated", "type": "bool"}
		]
	},

	"device_get_body_skeleton": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "body_tracking_type", "type": "enum xrt_input_name"}
		],
		"out": [
			{"name": "value", "type": "struct xrt_body_skeleton"}
		]
	},

	"device_get_body_joints": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "body_tracking_type", "type": "enum xrt_input_name"},
			{"name": "desired_timestamp_ns", "type": "int64_t"}
		],
		"out": [
			{"name": "value", "type": "struct xrt_body_joint_set"}
		]
	},

	"device_reset_body_tracking_calibration_meta": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		]
	},

	"device_set_body_tracking_calibration_override_meta": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "new_body_height", "type": "float"}
		]
	},

	"device_get_battery_status": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		],
		"out": [
			{"name": "present", "type": "bool"},
			{"name": "charging", "type": "bool"},
			{"name": "charge", "type": "float"}
		]
	},

	"device_get_brightness": {
		"in": [
			{"name": "id", "type": "uint32_t"}
		],
		"out": [
			{"name": "brightness", "type": "float"}
		]
	},

	"device_set_brightness": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "brightness", "type": "float"},
			{"name": "relative", "type": "bool"}
		]
	},

	"device_get_compositor_info": {
		"in": [
			{"name": "id", "type": "uint32_t"},
			{"name": "mode", "type": "struct xrt_device_compositor_mode"}
		],
		"out": [
			{"name": "info", "type": "struct xrt_device_compositor_info"}
		]
	} 
}
